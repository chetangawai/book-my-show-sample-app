(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{58:function(e,a,t){e.exports=t(80)},63:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},80:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(7),c=t.n(i),s=(t(63),t(64),t(33)),o=t(16),l=t(43),u=t(114),m=t(115),h=t(119),v=t(120),f=t(116),p=t(109),d=(t(65),t(112)),b=t(111),w=(t(66),t(30)),g=t(10),E=t(11),S=function(){function e(){Object(g.a)(this,e),this.seats=["A1","A2","A3","A4","A5","A6","A7","A8","A9","B1","B2","B3","B4","B5","B6","B7","B8","B9","C1","C2","C3","C4","C5","C6","C7","C8","C9"],this.seatingArrangement={1:{availableSeats:this.seats,reservedSeats:[]},2:{availableSeats:["A1","A2","A3","A4","A5","A6","A7","A8","A9","B1","B2","B3","B4","B5","B6","B7","B8","B9"],reservedSeats:["C1","C2","C3","C4","C5","C6","C7","C8","C9"]},3:{availableSeats:this.seats,reservedSeats:[]}}}return Object(E.a)(e,[{key:"getAvailableSeats",value:function(e){return{availableSeats:this.seatingArrangement[e].availableSeats,reservedSeats:this.seatingArrangement[e].reservedSeats}}},{key:"bookSeats",value:function(e,a){var t=Object(o.a)({},this.seatingArrangement[a]);return t.reservedSeats=t.reservedSeats.concat(e),t.availableSeats=[].concat(Object(w.a)(t.availableSeats.filter(function(a){return-1===e.indexOf(a)})),Object(w.a)(e.filter(function(e){return-1===t.availableSeats.indexOf(e)}))),this.seatingArrangement[a]=t,Promise.resolve(this.seatingArrangement[a])}}]),e}(),T={A:"PLATINUM",B:"GOLD",C:"SILVER"},O={PLATINUM:320,GOLD:280,SILVER:240},x=function(){function e(){Object(g.a)(this,e),this.rate=.14}return Object(E.a)(e,[{key:"getRate",value:function(){return this.rate}}]),e}(),A=function(){function e(){Object(g.a)(this,e),this.rate=.005}return Object(E.a)(e,[{key:"getRate",value:function(){return this.rate}}]),e}(),B=function(){function e(){Object(g.a)(this,e),this.rate=.005}return Object(E.a)(e,[{key:"getRate",value:function(){return this.rate}}]),e}(),k=function(){function e(){Object(g.a)(this,e)}return Object(E.a)(e,[{key:"roundOffToTwoDecimals",value:function(e){return Math.round(100*e)/100}}]),e}(),j=function e(a,t,n,r,i){Object(g.a)(this,e),this.subTotal=a,this.serviceTax=t,this.swachBharatTax=n,this.krishiKalyanTax=r,this.totalAmount=i},C=function(){function e(){Object(g.a)(this,e)}return Object(E.a)(e,[{key:"calculateTotal",value:function(e){var a=new x,t=new A,n=new B,r=new k,i=r.roundOffToTwoDecimals(e*a.getRate()),c=r.roundOffToTwoDecimals(e*t.getRate()),s=r.roundOffToTwoDecimals(e*n.getRate()),o=r.roundOffToTwoDecimals(e+i+c+s);return new j(e,i,c,s,o)}}]),e}(),y=function(){function e(){Object(g.a)(this,e)}return Object(E.a)(e,[{key:"getInvoice",value:function(e){var a=this,t=e.reduce(function(e,t){return e+a.getTicketPrice(t)},0);return(new C).calculateTotal(t)}},{key:"getTicketPrice",value:function(e){var a=e.charAt(0);return O[T[a]]}}]),e}(),N=t(113),R=Object(p.a)(function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{maxWidth:400,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)}}});function D(e){var a=R(),t=e.bookingInvoice,n=e.showNumber;return r.a.createElement("div",{className:a.root},r.a.createElement(b.a,{className:a.paper},r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0}," ",r.a.createElement("b",null,"Customer Booking Invoice"))),r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Successfully booked ticket for Show ",n)),r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Subtotal: Rs. ",t.subTotal)),r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Service Tax: Rs. ",t.serviceTax)),r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Swachh Bharat Cess: Rs. ",t.swachBharatTax)),r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Krishi Kalyan Cess: Rs. ",t.krishiKalyanTax)),r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Total: Rs. ",t.totalAmount))))}var I=function e(a,t,n,r){Object(g.a)(this,e),this.revenue=a,this.serviceTax=t,this.swachBharatTax=n,this.krishiKalyanTax=r},K=function(){function e(){Object(g.a)(this,e),this.totalSales={revenue:0,serviceTax:0,swachBharatTax:0,krishiKalyanTax:0}}return Object(E.a)(e,[{key:"calculateRevenue",value:function(e){var a=Object(o.a)({},this.totalSales),t=new k;return a.revenue=t.roundOffToTwoDecimals(a.revenue+e.subTotal),a.serviceTax=t.roundOffToTwoDecimals(a.serviceTax+e.serviceTax),a.swachBharatTax=t.roundOffToTwoDecimals(a.swachBharatTax+e.swachBharatTax),a.krishiKalyanTax=t.roundOffToTwoDecimals(a.krishiKalyanTax+e.krishiKalyanTax),this.totalSales=a,new I(a.revenue,a.serviceTax,a.swachBharatTax,a.krishiKalyanTax)}}]),e}(),W=Object(p.a)(function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{maxWidth:400,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)}}});function L(e){var a=W(),t=e.sales;return r.a.createElement("div",{className:a.root},r.a.createElement(b.a,{className:a.paper},"Owner's Total Sales",r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Revenue: Rs. ",t.revenue)),r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Service Tax: Rs. ",t.serviceTax)),r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Swachh Bharat Cess: Rs. ",t.swachBharatTax)),r.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(d.a,{item:!0},"Krishi Kalyan Cess: Rs. ",t.krishiKalyanTax))))}var G=Object(p.a)(function(e){return{root:{flexGrow:1,marginTop:"25px"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(1)},control:{padding:e.spacing(2)},margin:{margin:"25px"}}}),P=new S,M=new y,J=new K;function U(e){var a=this,t=Object(n.useState)({availableSeats:[],spacing:2,selectedSeats:[],reservedSeats:[],bookingInvoice:null,totalSales:null,isDisabled:!0}),i=Object(l.a)(t,2),c=i[0],s=i[1],u=G(),m=c.spacing,h=c.bookingInvoice,v=c.totalSales,f=c.isDisabled,p=c.selectedSeats,w=e.showNumber;function g(e){var a=c.selectedSeats,t=c.availableSeats;if(a.indexOf(e)>-1){var n=a.filter(function(a){return a!==e}),r=!(n.length>0);s(function(a){return Object(o.a)({},a,{availableSeats:t.concat(e),selectedSeats:n,isDisabled:r})})}else s(function(n){return Object(o.a)({},n,{selectedSeats:a.concat(e),availableSeats:t.filter(function(a){return a!==e}),isDisabled:!1})})}Object(n.useEffect)(function(){var a=e.showNumber,t=P.getAvailableSeats(a);s(function(e){return Object(o.a)({},e,{availableSeats:t.availableSeats,reservedSeats:t.reservedSeats,bookingInvoice:null,totalSales:null,selectedSeats:[],isDisabled:!0})})},[e]);var E=function(e){var t=c.selectedSeats,n=c.reservedSeats;return e.map(function(e){return r.a.createElement(d.a,{key:e,item:!0},r.a.createElement(b.a,{className:t.indexOf(e)>-1?u.paper+" seat selected ":n.indexOf(e)>-1?u.paper+" seat reserved ":u.paper+" seat available ",onClick:n.indexOf(e)>-1?null:g.bind(a,e)},e," "))})};return r.a.createElement("div",{className:"seatingArrangement "+u.root},r.a.createElement(d.a,{container:!0,className:u.root,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(d.a,{container:!0,justify:"center",spacing:m},E(["A1","A2","A3","A4","A5","A6","A7","A8","A9"]))),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(d.a,{container:!0,justify:"center",spacing:m},E(["B1","B2","B3","B4","B5","B6","B7","B8","B9"]))),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(d.a,{container:!0,justify:"center",spacing:m},E(["C1","C2","C3","C4","C5","C6","C7","C8","C9"])))),r.a.createElement(N.a,{variant:"contained",size:"medium",color:"primary",className:u.margin,onClick:function(){var a=c.selectedSeats,t=e.showNumber;P.bookSeats(a,t).then(function(e){var t=M.getInvoice(a),n=J.calculateRevenue(t);s(function(a){return Object(o.a)({},a,{bookingInvoice:t,availableSeats:e.availableSeats,reservedSeats:e.reservedSeats,selectedSeats:[],totalSales:n})})}).catch(function(e){console.log(e)})},disabled:f},"Book"),r.a.createElement("div",null," You have selected ",p.join()),h&&r.a.createElement("div",null,r.a.createElement(D,{bookingInvoice:h,showNumber:w}),r.a.createElement(L,{sales:v})))}var V=function(){var e=r.a.useState({showNumber:"",availableSeats:[]}),a=Object(l.a)(e,2),t=a[0],n=a[1],i=Object(p.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},margin:{margin:e.spacing(1)}}})(),c=t.showNumber;return r.a.createElement("div",{className:"Show"},r.a.createElement("form",{autoComplete:"off",className:"showNumber"},r.a.createElement(u.a,{className:i.formControl},r.a.createElement(v.a,{shrink:!0,htmlFor:"showNumber-label-placeholder"},"Show Number"),r.a.createElement(m.a,{value:c,onChange:function(e){n(function(a){return Object(o.a)({},a,Object(s.a)({},e.target.name,e.target.value))})},input:r.a.createElement(f.a,{name:"showNumber",id:"showNumber-label-placeholder"}),displayEmpty:!0,name:"showNumber",className:i.selectEmpty,"data-testid":"selectShowNumber"},r.a.createElement(h.a,{value:""},r.a.createElement("em",null,"Select show number")),r.a.createElement(h.a,{value:1},"1"),r.a.createElement(h.a,{value:2},"2"),r.a.createElement(h.a,{value:3},"3"))),r.a.createElement(u.a,{className:i.formControl})),c&&r.a.createElement(U,{showNumber:c}))};var z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"Welcome to Movie Booking")),r.a.createElement(V,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[58,1,2]]]);
//# sourceMappingURL=main.ead3f7b8.chunk.js.map